var a=Object.defineProperty,e=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,n=(e,t,s)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,d=(a,e)=>{for(var t in e||(e={}))o.call(e,t)&&n(a,t,e[t]);if(s)for(var t of s(e))c.call(e,t)&&n(a,t,e[t]);return a},r=(a,s)=>e(a,t(s));import{p as l,a as i,o as p,c as m,r as u,b as k,w as v,F as y,k as g,d as h,e as w,t as f,f as b,g as C,h as x,u as j,i as P,_,j as S,l as A,m as K,n as I,q as W,s as L,v as Q,x as O}from"./vendor.efdc0390.js";l("data-v-4b23e37a"),i();const R={},D={class:"NinjaLogo",src:"/assets/logo.03d6d6da.png",alt:"logo"};R.render=function(a,e){return p(),m("img",D)};const U={components:{Logo:R}},V=v("data-v-7115dabd");l("data-v-7115dabd");const q={class:"header"},X={class:"header-wrapper"},z={class:"flex items-center"},J=k("p",{class:"pl-3 select-none"},"工具人",-1);i();const N=V(((a,e,t,s,o,c)=>{const n=u("Logo");return p(),m("div",q,[k("div",X,[k("div",z,[k(n,{class:"h-10 w-10"}),J])])])}));U.render=N,U.__scopeId="data-v-7115dabd";const E={class:"main"},Z={setup:a=>(a,e)=>{const t=u("router-view");return p(),m(y,null,[k(U),k("div",E,[k(t)])],64)}};const $=g.create({prefixUrl:"/api",retry:{limit:0}});const T={setup(){const a=j();P();let e=h({nickName:void 0,timestamp:void 0});const t=async()=>{try{const a=localStorage.getItem("eid");if(!a)return void s();const t=await function(a){const e=new URLSearchParams;return e.set("eid",a),$.get("userinfo",{searchParams:e}).json()}(a);if(!t)return _.error("获取用户信息失败，请重重新登录"),void s();e.nickName=t.data.nickName,e.timestamp=new Date(t.data.timestamp).toLocaleString()}catch(a){console.error(a)}};w(t);const s=()=>{localStorage.removeItem("eid"),a.push("/login")};return r(d({},f(e)),{activity:[{name:"玩一玩（可找到大多数活动）",address:"京东 APP 首页-频道-边玩边赚",href:"https://funearth.m.jd.com/babelDiy/Zeus/3BB1rymVZUo4XmicATEUSDUgHZND/index.html"},{name:"宠汪汪",address:"京东APP-首页/玩一玩/我的-宠汪汪"},{name:"东东萌宠",address:"京东APP-首页/玩一玩/我的-东东萌宠"},{name:"东东农场",address:"京东APP-首页/玩一玩/我的-东东农场"},{name:"东东工厂",address:"京东APP-首页/玩一玩/我的-东东工厂"},{name:"东东超市",address:"京东APP-首页/玩一玩/我的-东东超市"},{name:"领现金",address:"京东APP-首页/玩一玩/我的-领现金"},{name:"东东健康社区",address:"京东APP-首页/玩一玩/我的-东东健康社区"},{name:"京喜农场",address:"京喜APP-我的-京喜农场"},{name:"京喜牧场",address:"京喜APP-我的-京喜牧场"},{name:"京喜工厂",address:"京喜APP-我的-京喜工厂"},{name:"京喜财富岛",address:"京喜APP-我的-京喜财富岛"},{name:"京东极速版红包",address:"京东极速版APP-我的-红包"}],getInfo:t,logout:s,delAccount:async()=>{try{const a=localStorage.getItem("eid"),e=await function(a){return $.post("delaccount",{json:a}).json()}({eid:a});200!==e.code?_.error(e.message):(_.success(e.message),setTimeout((()=>{s()}),1e3))}catch(a){console.error(a)}},openUrlWithJD:a=>{const e=encodeURIComponent(`{"category":"jump","des":"m","action":"to","url":"${a}"}`);window.location.href=`openapp.jdmobile://virtual?params=${e}`,console.log(window.location.href)}})}},B={class:"content"},G={class:"card"},F=k("div",{class:"card-header"},[k("p",{class:"card-title"},"个人中心")],-1),H={class:"card-body"},M={class:"card-footer"},Y=A("退出登录"),aa=A("删除账号"),ea={class:"card"},ta=k("div",{class:"card-header"},[k("p",{class:"card-title"},"常见活动位置"),k("span",{class:"card-subtitle"},"下面是一些常见活动的位置")],-1),sa={class:"card-body"},oa={class:"pr-2"};T.render=function(a,e,t,s,o,c){const n=u("el-button");return p(),m("div",B,[k("div",G,[F,k("div",H,[k("p",null,"昵称："+b(a.nickName),1),k("p",null,"更新时间："+b(a.timestamp),1)]),k("div",M,[k(n,{size:"small",auto:"",onClick:s.logout},{default:C((()=>[Y])),_:1},8,["onClick"]),k(n,{type:"danger",size:"small",auto:"",onClick:s.delAccount},{default:C((()=>[aa])),_:1},8,["onClick"])])]),k("div",ea,[ta,k("div",sa,[k("ul",null,[(p(!0),m(y,null,x(s.activity,((a,e)=>(p(),m("li",{key:e,class:"leading-normal"},[k("span",null,b(a.name)+"：",1),k("span",oa,b(a.address),1),a.href?(p(),m("a",{key:0,class:"text-blue-400",href:"#",onClick:e=>s.openUrlWithJD(a.href)},"直达链接",8,["onClick"])):S("",!0)])))),128))])])])])};const ca={setup(){const a=j();P();let e=h({marginCount:0,allowAdd:!0,cookie:"",QRCode:void 0,qrCodeVisibility:!1,token:void 0,okl_token:void 0,cookies:void 0,timer:void 0,waitLogin:!1,marginWSCKCount:0,allowWSCKAdd:!0,jdwsck:void 0,showQR:!1,showWSCK:!1,showCK:!1});const t=async()=>{try{const a=(await $.get("info").json()).data;e.marginCount=a.marginCount,e.allowAdd=a.allowAdd,e.marginWSCKCount=a.marginWSCKCount,e.allowWSCKAdd=a.allowWSCKAdd,e.showQR=a.showQR,e.showWSCK=a.showWSCK,e.showCK=a.showCK}catch(a){console.error(a)}},s=async()=>{if(this.showQR)try{const a=await $.get("qrcode").json();e.token=a.data.token,e.okl_token=a.data.okl_token,e.cookies=a.data.cookies,e.QRCode=a.data.QRCode,e.QRCode&&(e.waitLogin=!0,clearInterval(e.timer),e.timer=setInterval(o,3e3))}catch(a){console.error(a),_.error("生成二维码失败！请重试或放弃")}else _.warning("扫码已禁用请手动抓包")},o=async()=>{try{const t=await function(a){return $.post("check",{json:a}).json()}({token:e.token,okl_token:e.okl_token,cookies:e.cookies});switch(null==t?void 0:t.data.errcode){case 0:localStorage.setItem("eid",t.data.eid),_.success(t.message),clearInterval(e.timer),a.push("/");break;case 176:break;default:_.error(t.message),e.waitLogin=!1,clearInterval(e.timer)}}catch(t){clearInterval(e.timer),e.waitLogin=!1}};return w((()=>{t(),s()})),r(d({},f(e)),{getInfo:t,getQrcode:s,showQrcode:async()=>{e.qrCodeVisibility=!0},ckeckLogin:o,jumpLogin:async()=>{const a=`openapp.jdmobile://virtual/ad?params={"category":"jump","des":"ThirdPartyLogin","action":"to","onekeylogin":"return","url":"https://plogin.m.jd.com/cgi-bin/m/tmauth?appid=300&client_type=m&token=${e.token}","authlogin_returnurl":"weixin://","browserlogin_fromurl":"${window.location.host}"}`;window.location.href=a},CKLogin:async()=>{try{const a=e.cookie.match(/pt_key=(.*?);/)&&e.cookie.match(/pt_key=(.*?);/)[1],t=e.cookie.match(/pt_pin=(.*?);/)&&e.cookie.match(/pt_pin=(.*?);/)[1];if(a&&t){const e=await function(a){return $.post("cklogin",{json:a}).json()}({pt_key:a,pt_pin:t});200===e.code&&e.data.eid?(localStorage.setItem("eid",e.data.eid),_.success(e.message)):_.error(e.message||"cookie 解析失败，请检查后重试！")}else _.error("cookie 解析失败，请检查后重试！")}catch(a){console.error(a)}},WSCKLogin:async()=>{try{const a=e.jdwsck.match(/wskey=(.*?);/)&&e.jdwsck.match(/wskey=(.*?);/)[1],t=e.jdwsck.match(/pin=(.*?);/)&&e.jdwsck.match(/pin=(.*?);/)[1];if(a&&t){const e=await function(a){return $.post("WSCKLogin",{json:a}).json()}({wskey:a,pin:t});200===e.code&&e.data.eid?(localStorage.setItem("eid",e.data.eid),_.success(e.message)):_.error(e.message||"wskey 解析失败，请检查后重试！")}else _.error("wskey 解析失败，请检查后重试！")}catch(a){console.error(a)}}})}},na=v("data-v-79deaa04");l("data-v-79deaa04");const da={class:"content"},ra=k("div",{class:"card"},[k("div",{class:"card-header"},[k("p",{class:"card-title"},"工具人提醒您")]),k("div",{class:"card-body text-base leading-6"},[k("p",null,"为了您的财产安全请关闭免密支付以及打开支付验密（京东-设置-支付设置-支付验密设置）。"),k("p",null,"建议京东账户绑定微信以保证提现能到账。"),k("p",null,"由于京东异地登录限制，扫码获取cookie只有2小时有效期，因此暂时关闭扫码功能，现需手动抓取Cookie。"),k("b",null,"且有效期不长，平均1-3天，因此需要及时更新。")])],-1),la={key:0,class:"card"},ia={class:"card-header"},pa={class:"flex items-center justify-between"},ma=k("p",{class:"card-title"},"扫码登录",-1),ua={class:"ml-2 px-2 py-1 bg-gray-200 rounded-full font-normal text-xs"},ka=k("span",{class:"card-subtitle"}," 请点击下方按钮登录，点击按钮后回到本网站查看是否登录成功，京东的升级提示不用管。 ",-1),va={class:"card-body text-center"},ya={key:0,class:"flex flex-col w-48 m-auto mt-4"},ga=A("扫描二维码登录"),ha=A("跳转到京东 App 登录"),wa=k("div",{class:"card-footer"},null,-1),fa={key:1,class:"card"},ba={class:"card-header"},Ca={class:"flex items-center justify-between"},xa=k("p",{class:"card-title"},"WSCK 录入",-1),ja={class:"ml-2 px-2 py-1 bg-gray-200 rounded-full font-normal text-xs"},Pa=K('<div class="card-body text-base leading-6" data-v-79deaa04><b data-v-79deaa04>强烈推荐抓wskey</b><p data-v-79deaa04>wskey长期有效，不需要频繁更新，暂不清楚wskey失效时间，据说至少1年以上。</p><p data-v-79deaa04>用户须手动提取pin和wskey，格式如：&quot;pin=xxxxxx;wskey=xxxxxxxxxx;&quot;。</p><p class="card-subtitle" data-v-79deaa04>——IOS用户手机抓包APP <a style="" href="https://apps.apple.com/cn/app/stream/id1312141691" target="_blank" id="downiOSApp" data-v-79deaa04>点击跳转安装</a></p><p class="card-subtitle" data-v-79deaa04>wskey非录入后立马上线，系统会在指定时间检查wskey，有效则自动转换出cookie登录</p><p class="card-subtitle" data-v-79deaa04>cookie失效后，也会在系统设定的指定时间内自动转换出新的cookie，实现一次录入长期有效</p><p class="card-subtitle" data-v-79deaa04>详细抓包教程稍后更新，尽情期待</p></div><span class="card-subtitle" data-v-79deaa04> 请在下方输入您的 WSCK </span>',2),_a={class:"card-body text-center"},Sa=A("录入"),Aa=k("div",{class:"card-footet"},null,-1),Ka={key:2,class:"card"},Ia={class:"card-header"},Wa={class:"flex items-center justify-between"},La=k("p",{class:"card-title"},"CK 登录",-1),Qa={class:"ml-2 px-2 py-1 bg-gray-200 rounded-full font-normal text-xs"},Oa=K('<div class="card-body text-base leading-6" data-v-79deaa04><p data-v-79deaa04>PC用户建议使用开源工具<a href="https://github.com/Waikkii/JD_Get_Cookie" target="_blank" id="waikiki" data-v-79deaa04>JD_Get_Cookie</a>获取cookie并在下方填写。</p><p data-v-79deaa04>手机用户可以使用Alook浏览器登录<a href="https://m.jd.com/" target="_blank" id="jd" data-v-79deaa04>JD官网</a>，并在菜单-工具箱-开发者工具-Cookies中获取（Android和iPhone通用）。</p><p data-v-79deaa04>安卓手机还可以下载app来直接获取Cookie <a href="https://ghproxy.com/https://github.com/ZhuSky/JDCookie/releases/download/v1.0.0/app-release.apk" target="_blank" id="app" data-v-79deaa04>点击我下载安装</a></p><p data-v-79deaa04>——安卓用户须手动提取pt_key和pt_pin，格式如：&quot;pt_key=xxxxxxxxxx;pt_pin=xxxxxx;&quot;。</p><p data-v-79deaa04>——IOS用户可以使用快捷指令<a href="https://www.icloud.com/shortcuts/f0bf8b56bd0949afabfc00ca6fbfb4c2" target="_blank" id="getcookie" data-v-79deaa04>提取cookie</a>。</p><p data-v-79deaa04>显示“欢迎回来XXX”/“注册成功XXX”即更新/注册成功，不用理会红色提示框。</p></div><span class="card-subtitle" data-v-79deaa04> 请在下方输入您的 cookie 登录。 </span>',2),Ra={class:"card-body text-center"},Da=A("登录"),Ua=k("div",{class:"card-footet"},null,-1);i();const Va=na(((a,e,t,s,o,c)=>{const n=u("el-button"),d=u("el-input");return p(),m("div",da,[ra,a.showQR?(p(),m("div",la,[k("div",ia,[k("div",pa,[ma,k("span",ua,"余量："+b(a.marginCount),1)]),ka]),k("div",va,[a.qrCodeVisibility?(p(),m("img",{key:1,src:a.QRCode,width:256,class:"m-auto"},null,8,["src"])):(p(),m("div",ya,[k(n,{type:"primary",round:"",onClick:s.showQrcode},{default:na((()=>[ga])),_:1},8,["onClick"]),k(n,{class:"mt-4 ml-0",type:"primary",round:"",onClick:s.jumpLogin},{default:na((()=>[ha])),_:1},8,["onClick"])]))]),wa])):S("",!0),a.showWSCK?(p(),m("div",fa,[k("div",ba,[k("div",Ca,[xa,k("span",ja,"余量："+b(a.marginWSCKCount),1)]),Pa]),k("div",_a,[k(d,{modelValue:a.jdwsck,"onUpdate:modelValue":e[1]||(e[1]=e=>a.jdwsck=e),size:"small",clearable:"",class:"my-4 w-full"},null,8,["modelValue"]),k(n,{type:"primary",size:"small",round:"",onClick:s.WSCKLogin},{default:na((()=>[Sa])),_:1},8,["onClick"])]),Aa])):S("",!0),a.showCK?(p(),m("div",Ka,[k("div",Ia,[k("div",Wa,[La,k("span",Qa,"余量："+b(a.marginCount),1)]),Oa]),k("div",Ra,[k(d,{modelValue:a.cookie,"onUpdate:modelValue":e[2]||(e[2]=e=>a.cookie=e),size:"small",clearable:"",class:"my-4 w-full"},null,8,["modelValue"]),k(n,{type:"primary",size:"small",round:"",onClick:s.CKLogin},{default:na((()=>[Da])),_:1},8,["onClick"])]),Ua])):S("",!0)])}));ca.render=Va,ca.__scopeId="data-v-79deaa04";const qa=[{path:"/",component:T},{path:"/login",component:ca}],Xa=I({history:W(),routes:qa}),za=[Q,O,_],Ja=[_],Na=L(Z);za.forEach((a=>{Na.component(a.name,a)})),Ja.forEach((a=>{Na.use(a)})),Na.use(Xa),Na.mount("#app");
